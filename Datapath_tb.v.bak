`timescale 1ns/100ps

module Datapath_tb();
  reg clk, RegDst, RegWrite, ALUSrc ,MemRead, MemWrite, MemtoReg;
  reg [3:0] ALUcontrol;
  reg [5:0] op, funct;
  reg [4:0] rs, rt, rd, shamt;
  wire is0;
  wire [31:0] ALU_result, ReadData1, ReadData2, out_MemtoReg;
  
  Datapath DP(clk, op, rs, rt, rd, shamt, funct, RegDst, RegWrite, ALUSrc, ALUcontrol, MemRead, MemWrite, MemtoReg, is0, ALU_result, ReadData1, ReadData2, out_MemtoReg);
  
  initial begin
    clk = 0;
    forever #5 clk = ~clk;
  end
  
  initial begin
    ReadData1 = 0;
    ReadData2 = 0;
    op = 6'b0;
    funct = 6'b0;
    rs = 5'b00010;
    rt = 5'b00011;
    rd = 5'b00001;
    shamt = 5'b0;
    ALUcontrol = 4'b0101;
    RegDst = 1;
    RegWrite = 1;
    ALUSrc = 0;
    MemRead = 0;
    MemWrite = 0;
    MemtoReg = 1;
    $display("ReadData1 = %d, ReadData2 = %d", ReadData1, ReadData2);
   
    #10
    op = 6'b0;
    funct = 6'b0;
    rs = 5'b00001;
    rt = 5'b00010;
    rd = 5'b00100;
    shamt = 5'b0;
    ALUcontrol = 4'b0101;
    RegDst = 1;
    RegWrite = 1;
    ALUSrc = 0;
    MemRead = 0;
    MemWrite = 0;
    MemtoReg = 1;
    $display("ReadData1 = %d, ReadData2 = %d", ReadData1, ReadData2);

    
    #10
    op = 6'h2b;
    funct = 6'b0;
    rs = 5'b00101;
    rt = 5'b00100;
    rd = 5'b0;
    shamt = 5'b0;
    ALUcontrol = 4'b0101;
    RegDst = 0;
    RegWrite = 0;
    ALUSrc = 1;
    MemRead = 0;
    MemWrite = 1;
    MemtoReg = 0;
    $display("ReadData1 = %d, ReadData2 = %d", ReadData1, ReadData2);

    
    #10
    op = 6'h23;
    funct = 6'b0;
    rs = 5'b00101;
    rt = 5'b00110;
    rd = 5'b0;
    shamt = 5'b0;
    ALUcontrol = 4'b0101;
    RegDst = 0;
    RegWrite = 1;
    ALUSrc = 1;
    MemRead = 1;
    MemWrite = 0;
    MemtoReg = 0;


    
    #10
    op = 6'b0;
    funct = 6'b0;
    rs = 5'b00110;
    rt = 5'b00010;
    rd = 5'b00111;
    shamt = 5'b0;
    ALUcontrol = 4'b0101;
    RegDst = 1;
    RegWrite = 1;
    ALUSrc = 0;
    MemRead = 0;
    MemWrite = 0;
    MemtoReg = 1;
    

    
    #50 $finish;  
  end

endmodule